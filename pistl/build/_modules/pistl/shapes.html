<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pistl.shapes &#8212; PISTL 2023 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=12dfc556" />
    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=a4664895"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for pistl.shapes</h1><div class="highlight"><pre>
<span></span><span class="c1"># native python</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="c1"># dependecies</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>
<span class="kn">import</span> <span class="nn">pyvista</span> <span class="k">as</span> <span class="nn">pv</span>
<span class="c1"># internal custom imports</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">utilities</span><span class="p">,</span> <span class="n">pist_exceptions</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Module Content:</span>
<span class="sd">1. Shape</span>
<span class="sd">2. Circle</span>
<span class="sd">3. Cylinder</span>
<span class="sd">4. Cuboid</span>
<span class="sd">5. Tetrahedron</span>
<span class="sd">6. Pyramid</span>
<span class="sd">7. Sphere : Create Octahedron, hexagon etc using special cases of the spheres.</span>
<span class="sd">&quot;&quot;&quot;</span>


<div class="viewcode-block" id="Shape">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Shape">[docs]</a>
<span class="k">class</span> <span class="nc">Shape</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">    ============</span>
<span class="sd">    Base class for shapes.Provides a generic init and three methods</span>
<span class="sd">    to create, export and visualize the shapes to be called in that order.</span>

<span class="sd">    Users must follow the order:</span>
<span class="sd">        1. Create the shape</span>
<span class="sd">        2. export the shape</span>
<span class="sd">        3. visualize the shape</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shapename</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="Shape.create">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Shape.create">[docs]</a>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Should be overwritten by child class depending on how to prodcuce that shape.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Shape.export">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Shape.export">[docs]</a>
    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shapename</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exports the shape in desired format.(Right now only stl)&quot;&quot;&quot;</span>
        <span class="c1"># set the provided filename to be the exported shape</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shapename</span> <span class="o">=</span> <span class="n">shapename</span></div>


<div class="viewcode-block" id="Shape.visualize">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Shape.visualize">[docs]</a>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set as a method but calls a utility function written in the utulities module.</span>
<span class="sd">        It is written here for the context of using an object and then being able to visualize it</span>
<span class="sd">        using a class method.&quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">utilities</span><span class="o">.</span><span class="n">visualize</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">pist_exceptions</span><span class="o">.</span><span class="n">Visualization_Exceptions</span><span class="p">(</span>
                <span class="s2">&quot;Failed to visualize your shape.&quot;</span><span class="p">)</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_write_triangles_and_normals</span><span class="p">(</span><span class="n">triangle_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">p1</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">p2</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">p3</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">            Takes in a scheme of three points and adds to a list of triangles and normals in the stl.</span>
<span class="sd">        Paremters:</span>
<span class="sd">            triangle_list: list of triangles in the stl.</span>
<span class="sd">            normal_list: list of normals of the traingles in the stl</span>
<span class="sd">            p1, p2 and p3 are list objects that are three points on a triangle.&quot;&quot;&quot;</span>
        <span class="n">triangle_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">])</span>
        <span class="n">normal_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">utilities</span><span class="o">.</span><span class="n">find_normal</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)))</span>
        <span class="k">return</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="Circle">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Circle">[docs]</a>
<span class="k">class</span> <span class="nc">Circle</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">    ============</span>
<span class="sd">    Creates a 2D circle. </span>
<span class="sd">    Special cases can be used to generate rectangle and triangles and other regular 2-D</span>
<span class="sd">    polygons.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ===========</span>
<span class="sd">    name:[str]</span>
<span class="sd">        default set to &quot;circle&quot;</span>
<span class="sd">    _center:[list]</span>
<span class="sd">        defualt set to [0.0, 0.0]</span>
<span class="sd">    _radius:[1.0]</span>
<span class="sd">        default set to 1.0</span>
<span class="sd">    dim:[float]</span>
<span class="sd">        dimension of the shape. Don&#39;t change. This flags that this shape is 2D</span>
<span class="sd">    _area:[float]</span>
<span class="sd">        estimated parameter for query</span>
<span class="sd">    _perimeter:[float]</span>
<span class="sd">        estimated parameter for query</span>
<span class="sd">    resolution:[int]</span>
<span class="sd">        number of points in the 2D polygon, higher number gets smoother circle.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Circle&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dim</span> <span class="o">=</span> <span class="mf">2.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_area</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_radius</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_perimeter</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">perimeter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_radius</span>

    <span class="nd">@radius</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_radius</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<div class="viewcode-block" id="Circle.create">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Circle.create">[docs]</a>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elevation</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">        ============</span>
<span class="sd">        Creates a circle with a constant z value.</span>

<span class="sd">        Parmeters:</span>
<span class="sd">        ==========</span>
<span class="sd">        elevation: The z value or elevation of the circle. Default value is 0.0.</span>

<span class="sd">        Example:</span>
<span class="sd">        ========</span>
<span class="sd">        &gt;&gt;&gt; circle = Cicrle() # if no arguments are provided, it creates a circle with center (0,0) and radius 1.0.</span>
<span class="sd">        &gt;&gt;&gt; circle.create() # creates a circle of elevation of 0.0</span>
<span class="sd">        &gt;&gt;&gt; circle.create(elevation=10.0) # creates the circle at z = 10.0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_center</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_center</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="n">elevation</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Circle.visualize">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Circle.visualize">[docs]</a>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span></div>


<div class="viewcode-block" id="Circle.export">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Circle.export">[docs]</a>
    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">shapename</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="o">=</span><span class="n">shapename</span><span class="p">)</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">        ============</span>
<span class="sd">        Takes x and y cordinates from the circle function and generates a cricle stl of</span>
<span class="sd">        desired resolution that has 0 elevation i.e. all z values are zero.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ===========</span>
<span class="sd">        filename: string filename of the .stl file</span>
<span class="sd">        shapename: name of the object that is created</span>

<span class="sd">        Example:</span>
<span class="sd">        ========</span>
<span class="sd">        &gt;&gt;&gt; circle=Cirle()</span>
<span class="sd">        &gt;&gt;&gt; circle.radius = 2.0</span>
<span class="sd">        &gt;&gt;&gt; circle.create()</span>
<span class="sd">        &gt;&gt;&gt; circle.visualize()</span>
<span class="sd">        &gt;&gt;&gt; circle.export(&#39;circle.stl&#39;, circle)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">triangle_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">normal_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
                <span class="p">),</span> <span class="s2">&quot;length of x and y should be same, found different.&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="n">utilities</span><span class="o">.</span><span class="n">stl_writer</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">,</span> <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>
</div>



<div class="viewcode-block" id="Cylinder">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Cylinder">[docs]</a>
<span class="k">class</span> <span class="nc">Cylinder</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">    ============</span>
<span class="sd">    Generates a cylinder for a height along the z-axis.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ===========</span>
<span class="sd">    name:[str]</span>
<span class="sd">        default set to &quot;Circle&quot;</span>
<span class="sd">    _base_circle_radius:[float]</span>
<span class="sd">        defaults to 1.0</span>
<span class="sd">    _base_circle_center:[list]</span>
<span class="sd">        defaults to [0.0,0.0, 0.0]</span>
<span class="sd">    _height:[float]</span>
<span class="sd">        defulat to 1.0</span>
<span class="sd">    _top_circle_radius:[float]</span>
<span class="sd">        exactly the same as the base_circle_radius to keep cylindrical shape</span>
<span class="sd">    _top_circle_center:[list]</span>
<span class="sd">        estimated parameter based on base circle center and height of cylinder</span>
<span class="sd">    _cylinder_center:[list]</span>
<span class="sd">        estimated parameter</span>
<span class="sd">    dim:[float]</span>
<span class="sd">        3.0</span>
<span class="sd">    resolution:[int]</span>
<span class="sd">        10</span>
<span class="sd">    close:[bool]</span>
<span class="sd">        False (to create open top cyclinder)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Cylinder&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_radius</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_height</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_top_circle_radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_top_circle_center</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_center</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_center</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_height</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cylinder_center</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_center</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span>
                                 <span class="bp">self</span><span class="o">.</span><span class="n">_height</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_center</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">_height</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dim</span> <span class="o">=</span> <span class="mf">3.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span> <span class="o">=</span> <span class="kc">False</span>

<div class="viewcode-block" id="Cylinder.create">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Cylinder.create">[docs]</a>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">            Creates a cylinder.</span>
<span class="sd">        Parmeters:</span>
<span class="sd">            None</span>
<span class="sd">        Example:</span>
<span class="sd">        &gt;&gt;&gt; cyl = Cylinder()</span>
<span class="sd">        &gt;&gt;&gt; cyl._height = 10.00</span>
<span class="sd">        &gt;&gt;&gt; cyl._top_circle_radius = 4.00</span>
<span class="sd">        &gt;&gt;&gt; cyl._base_circle_radius = 4.00</span>
<span class="sd">        &gt;&gt;&gt; cyl.resolution = 10</span>
<span class="sd">        &gt;&gt;&gt; cyl.close = True</span>
<span class="sd">        &gt;&gt;&gt; cyl.create()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># create the base circle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_radius</span> <span class="o">*</span> \
            <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_center</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_radius</span> <span class="o">*</span> \
            <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_center</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_z</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_center</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="c1"># create the top circle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_top_circle_radius</span> <span class="o">*</span> \
            <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_top_circle_center</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_top_circle_radius</span> <span class="o">*</span> \
            <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_top_circle_center</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_z</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_x</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_top_circle_center</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Cylinder.visualize">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Cylinder.visualize">[docs]</a>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span></div>


<div class="viewcode-block" id="Cylinder.export">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Cylinder.export">[docs]</a>
    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">            Takes x and y cordinates from the two circles one at top and the other at bottom face </span>
<span class="sd">            connects them using triangles. Finally, closes the top and bottom face of the cylinder</span>
<span class="sd">            if the close attribute on the shape is True.</span>
<span class="sd">        Parameters:</span>
<span class="sd">            filename: string filename of the .stl file</span>
<span class="sd">            shapename: name of the object that is created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="o">=</span><span class="n">shapename</span><span class="p">)</span>
        <span class="n">triangle_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">normal_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_y</span><span class="p">)</span>
                <span class="p">),</span> <span class="s2">&quot;length of x and y should be same, found different.&quot;</span>
        <span class="c1"># first set of triangles</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_z</span><span class="p">]</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">top_x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_z</span><span class="p">]</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">top_x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_z</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="c1"># second set of triangles</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_z</span><span class="p">]</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_z</span><span class="p">]</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">top_x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_z</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="c1"># close top face</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_z</span><span class="p">]</span>
                <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">top_x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_z</span><span class="p">]</span>
                <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">top_x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">top_z</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                    <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
            <span class="c1"># close bottom face</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_z</span><span class="p">]</span>
                <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_z</span><span class="p">]</span>
                <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">base_x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_z</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                    <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="n">utilities</span><span class="o">.</span><span class="n">stl_writer</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">,</span> <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>
</div>



<div class="viewcode-block" id="Cuboid">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Cuboid">[docs]</a>
<span class="k">class</span> <span class="nc">Cuboid</span><span class="p">(</span><span class="n">Cylinder</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">    ============</span>
<span class="sd">    Generates a cuboid using special case of a cylinder with changed parameters.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ===========</span>
<span class="sd">    name:[str]</span>
<span class="sd">        Cuboid</span>
<span class="sd">    _side_length:[float]</span>
<span class="sd">        1.0</span>
<span class="sd">    resolution:[int]</span>
<span class="sd">        5 (to produce 4 sides)</span>
<span class="sd">    close:[bool]</span>
<span class="sd">        False (to produce open top cuboid)    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Cuboid&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_side_length</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_set_side</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the side of the cuboid because inheriting from cylinder only sets the radius.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_base_circle_radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_side_length</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_top_circle_radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_side_length</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_set_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets resolution to call cylinder class and make a cuboid.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="k">return</span> <span class="kc">None</span>

<div class="viewcode-block" id="Cuboid.create">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Cuboid.create">[docs]</a>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inherits a cylinder and sets sides and resolution to create a cuboid.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_side</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_resolution</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">create</span><span class="p">()</span></div>


<div class="viewcode-block" id="Cuboid.visualize">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Cuboid.visualize">[docs]</a>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span></div>


<div class="viewcode-block" id="Cuboid.export">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Cuboid.export">[docs]</a>
    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="Tetrahedron">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Tetrahedron">[docs]</a>
<span class="k">class</span> <span class="nc">Tetrahedron</span><span class="p">(</span><span class="n">Circle</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">    ============</span>
<span class="sd">    Generates a Tetrahedron using special case of a Circle with changed parameters.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ===========</span>
<span class="sd">    name:[str]</span>
<span class="sd">        Tetrahedron</span>
<span class="sd">    resolution:[int]</span>
<span class="sd">        4 (to produce 3 sides and we pull one in center with higher elevation.</span>
<span class="sd">    close:[bool]</span>
<span class="sd">        True  </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Tetrahedron&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span> <span class="o">=</span> <span class="kc">True</span>

<div class="viewcode-block" id="Tetrahedron.create">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Tetrahedron.create">[docs]</a>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elevation</span><span class="o">=-</span><span class="mf">2.0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a tetrahedron with base elevation i.e. z&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">elevation</span><span class="p">)</span></div>


<div class="viewcode-block" id="Tetrahedron.visualize">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Tetrahedron.visualize">[docs]</a>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span></div>


<div class="viewcode-block" id="Tetrahedron.export">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Tetrahedron.export">[docs]</a>
    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">            Creates a tetrahedron from a circle class by chnaging the base circle</span>
<span class="sd">            shape and elavtion on of the center.</span>
<span class="sd">        Parameters:</span>
<span class="sd">            filename: string filename of the .stl file</span>
<span class="sd">            shapename: name of the object that is created.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="o">=</span><span class="n">shapename</span><span class="p">)</span>
        <span class="n">triangle_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">normal_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
                <span class="p">),</span> <span class="s2">&quot;length of x and y should be same, found different.&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="n">utilities</span><span class="o">.</span><span class="n">stl_writer</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">,</span> <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>
</div>



<div class="viewcode-block" id="Pyramid">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Pyramid">[docs]</a>
<span class="k">class</span> <span class="nc">Pyramid</span><span class="p">(</span><span class="n">Tetrahedron</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">    ============</span>
<span class="sd">    Generates a Pyramid using special case of a Tetrahedron with changed parameters.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ===========</span>
<span class="sd">    name:[str]</span>
<span class="sd">        Pyramid</span>
<span class="sd">    resolution:[int]</span>
<span class="sd">        5 (to produce 4 sides and we pull one in center with higher elevation.</span>
<span class="sd">    close:[bool]</span>
<span class="sd">        True  </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Pyramid&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span> <span class="o">=</span> <span class="kc">False</span>

<div class="viewcode-block" id="Pyramid.create">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Pyramid.create">[docs]</a>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elevation</span><span class="o">=-</span><span class="mi">2</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">elevation</span><span class="p">)</span></div>


<div class="viewcode-block" id="Pyramid.visualize">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Pyramid.visualize">[docs]</a>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span></div>


<div class="viewcode-block" id="Pyramid.export">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Pyramid.export">[docs]</a>
    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">            Creates a pyramid from a circle class by chnaging the base circle</span>
<span class="sd">            shape and elavtion on of the center.</span>
<span class="sd">        Parameters:</span>
<span class="sd">            filename: string filename of the .stl file</span>
<span class="sd">            shapename: name of the object that is created.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="o">=</span><span class="n">shapename</span><span class="p">)</span>
        <span class="n">triangle_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">normal_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
                <span class="p">),</span> <span class="s2">&quot;Length of x and y should be same, found different.&quot;</span>
        <span class="c1"># the dome loop</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="c1"># close the base</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">close</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
            <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="n">utilities</span><span class="o">.</span><span class="n">stl_writer</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">,</span> <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>
</div>



<div class="viewcode-block" id="Sphere">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Sphere">[docs]</a>
<span class="k">class</span> <span class="nc">Sphere</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">    ============</span>
<span class="sd">    Generates a Sphere from base class Shapes.</span>

<span class="sd">    Attributes:</span>
<span class="sd">    ===========</span>
<span class="sd">    name:[str]</span>
<span class="sd">        Sphere</span>
<span class="sd">    center:[list]</span>
<span class="sd">        [0.0,0.0,0.0]</span>
<span class="sd">    radius:[float]</span>
<span class="sd">        1.0</span>
<span class="sd">    resolution_longitudes:[int]</span>
<span class="sd">        20 (resolutions on the circles that are being used to stitch the sphere)</span>
<span class="sd">    resolution_latitudes:[int]  </span>
<span class="sd">        20 (how many circles are being drawn to stitch the sphere, think of latitudes on earth)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Sphere&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resoultion_longitude</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution_latitude</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Sphere&quot;</span>

    <span class="k">def</span> <span class="nf">_radius_variation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_radius</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">            Internal method that sets the radius of the latitudes in the sphere.</span>
<span class="sd">        Parameters:</span>
<span class="sd">            min_radius:</span>
<span class="sd">                Minimum radius of the circle on top of the sphere.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">lin_space</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">min_radius</span><span class="p">,</span>
                                <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resoultion_longitude</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lin_space</span><span class="p">:</span>
            <span class="n">temp_rad</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">radius_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_rad</span><span class="p">)</span>
        <span class="n">lin_space</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">min_radius</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                                <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resoultion_longitude</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lin_space</span><span class="p">:</span>
            <span class="n">temp_rad</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">radius_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_rad</span><span class="p">)</span>

<div class="viewcode-block" id="Sphere.create">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Sphere.create">[docs]</a>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_radius</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Description:</span>
<span class="sd">        ============</span>
<span class="sd">            Creates the required circles of latitudes for the spheres.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ===========</span>
<span class="sd">            min_radius:</span>
<span class="sd">                Minimum radius of the circle on top of the sphere.</span>

<span class="sd">        Examples:</span>
<span class="sd">        =========</span>
<span class="sd">        &gt;&gt;&gt; sphere = Sphere()</span>
<span class="sd">        &gt;&gt;&gt; sphere.create()</span>
<span class="sd">        &gt;&gt;&gt; sphere.export(&#39;sphere.stl&#39;, &#39;sphere&#39;)</span>
<span class="sd">        &gt;&gt;&gt; sphere.visualize()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">circle_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latitude</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">/</span><span class="mf">1.0</span><span class="p">,</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">/</span><span class="mf">1.0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resoultion_longitude</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_radius_variation</span><span class="p">(</span><span class="n">min_radius</span><span class="o">=</span><span class="n">min_radius</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">latitude</span><span class="p">):</span>
            <span class="n">circle</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">()</span>
            <span class="n">circle</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">circle</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolution_latitude</span>
            <span class="c1"># it looks like 1.0 but the elevation is actually l as in L.</span>
            <span class="n">circle</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">elevation</span><span class="o">=</span><span class="n">l</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">circle_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Sphere.visualize">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Sphere.visualize">[docs]</a>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span></div>


<div class="viewcode-block" id="Sphere.export">
<a class="viewcode-back" href="../../pistl.html#pistl.shapes.Sphere.export">[docs]</a>
    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Creates a stack of circles.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="o">=</span><span class="n">shapename</span><span class="p">)</span>
        <span class="n">triangle_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">normal_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># creates stack of disks</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circle_list</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">circle_1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">circle_list</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">circle_2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">circle_list</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="c1"># first set of triangle</span>
            <span class="c1">#  i x&gt; i+1                  &gt; circle 2</span>
            <span class="c1">#  x   x</span>
            <span class="c1">#  i x                       &gt; circle 1</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">circle_1</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="n">circle_1</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">circle_1</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">circle_1</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
                <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="n">circle_2</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">circle_2</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">circle_2</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
                <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="n">circle_2</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">circle_2</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">circle_2</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                    <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
            <span class="c1"># add next set of triangles</span>
            <span class="c1">#  i x                       &gt; circle 2</span>
            <span class="c1">#  x   x</span>
            <span class="c1">#  i x&gt; i+1                  &gt; circle 1</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">circle_1</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="n">circle_1</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">circle_1</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">circle_1</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
                <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="n">circle_1</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">circle_1</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">circle_1</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
                <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="n">circle_2</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">circle_2</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">circle_2</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                    <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="c1"># close the top</span>
        <span class="n">end_circle</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">circle_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">circle_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">end_circle</span><span class="p">)):</span>
            <span class="n">cur_circle</span> <span class="o">=</span> <span class="n">end_circle</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cur_circle</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">p1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">cur_circle</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span>
                <span class="n">p2</span> <span class="o">=</span> <span class="p">[</span><span class="n">cur_circle</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">cur_circle</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">cur_circle</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span>
                <span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="n">cur_circle</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">cur_circle</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">cur_circle</span><span class="o">.</span><span class="n">z</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write_triangles_and_normals</span><span class="p">(</span>
                    <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
        <span class="n">utilities</span><span class="o">.</span><span class="n">stl_writer</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">shapename</span><span class="p">,</span> <span class="n">triangle_list</span><span class="p">,</span> <span class="n">normal_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>
</div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">PISTL</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Suman Saurabh.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    

    
  </body>
</html>